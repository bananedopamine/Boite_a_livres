{# templates/mouvement/_modal_debut.html.twig #}

<h3>Étape 1 : Scan du livre</h3>

<form id="form_scan" action="{{ path('app_mouvement_debut') }}" method="post" autocomplete="off">
    <div class="form-group-modal">
        <label>Type de mouvement :</label>
        <select name="type_action_select" id="type_action_select" class="input-full">
            <option value="false" {{ selection_defaut == 'false' ? 'selected' : '' }}> ENTRÉE (Retour)</option>
            <option value="true"  {{ selection_defaut == 'true'  ? 'selected' : '' }}> SORTIE (Emprunt)</option>
        </select>
    </div>

    <div class="form-group-modal">
        <label>Scanner ou entrer l'ISBN :</label>
        {# L'ID 'isbnInput' est crucial car le JS de index.html.twig le surveille #}
        <input type="text" name="isbn" id="isbnInput" placeholder="Ex: 978..." required autofocus 
               class="input-isbn-large" autocomplete="off">
    </div>

    <div class="modal-actions-end">
        <button type="submit" class="btn btn-primary">Vérifier le livre</button>
    </div>
</form>

<script>
    // Petit script pour forcer le focus sur l'input au chargement de la modale
    setTimeout(() => document.getElementById('isbnInput').focus(), 100);
</script>