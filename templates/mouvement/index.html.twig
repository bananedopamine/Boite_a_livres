{# @author : Dufour Marc (marc.dufour@stjosup.com)
 # @version : 2.0
 # @dateCreate : 12/01/2026
 # @lastUpdate : 29/01/2026 (Architecture modulaire avec tableau dynamique)
 #}

{% extends 'base.html.twig' %}

{% block title %}Historique des mouvements{% endblock %}
{% block PageTitle %}Historique des mouvements{% endblock %}

{% block body %}

    {# Inclusion de la modal de recherche dynamique #}
    {% include 'mouvement/_modal_filtres_mouvement.html.twig' %}

    {# Inclusion de la structure du tableau #}
    {% include 'mouvement/mouvement_tableau_structure.html.twig' %}

    {# [IMPORTANT] Inclusion des DEUX fichiers de modale #}
    {# 1. Pour g√©rer les clics sur les ISBN/Titres de livres #}
    {{ include('livre/_modal_livre_details.html.twig') }}
    
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {# MODIFICATION: Inclusion du gestionnaire de modales global #}
    <script src="{{ asset('js/modal_handler.js') }}"></script>
    
    {# Inclusion du script JavaScript pour le tableau dynamique #}
    <script src="{{ asset('js/mouvement_tableau_dynamique.js') }}"></script>
{% endblock %}
