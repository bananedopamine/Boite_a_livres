{# @author : Dufour Marc (marc.dufour@stjosup.com)
 # @version : 2.0
 # @dateCreate : 28/01/2026
 # @description : Structure du tableau dynamique des livres
 #}

{# Zone d'affichage du tableau avec attributs data pour le JavaScript #}
<div id="zone-tableau"  class="breakout-grid"
     data-api-url="{{ path('app_livre_api_liste') }}"
     data-show-url="{{ path('app_livre_show', {id: 99999})|replace({'99999': '__ID__'}) }}"
     data-export-url="{{ path('app_livre_export') }}">
    
    {# Indicateur de chargement #}
    <div id="loading-indicator" class="text-center py-5">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Chargement...</span>
        </div>
        <p class="mt-2">Chargement des livres...</p>
    </div>

    {# Message d'erreur (caché par défaut) #}
    <div id="message-erreur" class="alert alert-warning mt-3" style="display: none;">
        <span id="texte-erreur"></span>
    </div>

    {# Compteur de résultats et bouton export #}
    <div id="compteur-resultats" class="mb-2 d-flex justify-content-between align-items-center" style="display: none;">
        <small class="text-muted">
            <strong id="nombre-livres">0</strong> livre(s) trouvé(s)
        </small>
        <button type="button" id="btn-export-livres" class="btn btn-sm btn-success">
            <i class="fas fa-file-excel"></i> Exporter en Excel
        </button>
    </div>

    {# Tableau des livres #}
    <div id="conteneur-tableau" class="breakout-inner" style="display: none;">
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th>ISBN</th>
                    <th>Titre</th>
                    <th>Auteur</th>
                    <th>Stock</th>
                    <th id="colonne-actif" style="display: none;">Actif</th>
                </tr>
            </thead>
            <tbody id="tbody-livres">
                {# Contenu généré dynamiquement par JavaScript #}
            </tbody>
        </table>
    </div>
</div>
